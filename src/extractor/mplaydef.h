#pragma once

#include "types.h"

#include <array>


enum GbaCmd : u8 {
  W00    = 0x80,
  W01    = W00+1,
  W02    = W00+2,
  W03    = W00+3,
  W04    = W00+4,
  W05    = W00+5,
  W06    = W00+6,
  W07    = W00+7,
  W08    = W00+8,
  W09    = W00+9,
  W10    = W00+10,
  W11    = W00+11,
  W12    = W00+12,
  W13    = W00+13,
  W14    = W00+14,
  W15    = W00+15,
  W16    = W00+16,
  W17    = W00+17,
  W18    = W00+18,
  W19    = W00+19,
  W20    = W00+20,
  W21    = W00+21,
  W22    = W00+22,
  W23    = W00+23,
  W24    = W00+24,
  W28    = W00+25,
  W30    = W00+26,
  W32    = W00+27,
  W36    = W00+28,
  W40    = W00+29,
  W42    = W00+30,
  W44    = W00+31,
  W48    = W00+32,
  W52    = W00+33,
  W54    = W00+34,
  W56    = W00+35,
  W60    = W00+36,
  W64    = W00+37,
  W66    = W00+38,
  W68    = W00+39,
  W72    = W00+40,
  W76    = W00+41,
  W78    = W00+42,
  W80    = W00+43,
  W84    = W00+44,
  W88    = W00+45,
  W90    = W00+46,
  W92    = W00+47,
  W96    = W00+48,
  FINE   = 0xb1,
  GOTO   = 0xb2,
  PATT   = 0xb3,
  PEND   = 0xb4,
  REPT   = 0xb5,
  MEMACC = 0xb9,
  PRIO   = 0xba,
  TEMPO  = 0xbb,
  KEYSH  = 0xbc,
  VOICE  = 0xbd,
  VOL    = 0xbe,
  PAN    = 0xbf,
  BEND   = 0xc0,
  BENDR  = 0xc1,
  LFOS   = 0xc2,
  LFODL  = 0xc3,
  MOD    = 0xc4,
  MODT   = 0xc5,
  TUNE   = 0xc8,
  XCMD   = 0xcd,
  EOT    = 0xce,
  TIE    = 0xcf,
  N01    = TIE+1,
  N02    = N01+1,
  N03    = N01+2,
  N04    = N01+3,
  N05    = N01+4,
  N06    = N01+5,
  N07    = N01+6,
  N08    = N01+7,
  N09    = N01+8,
  N10    = N01+9,
  N11    = N01+10,
  N12    = N01+11,
  N13    = N01+12,
  N14    = N01+13,
  N15    = N01+14,
  N16    = N01+15,
  N17    = N01+16,
  N18    = N01+17,
  N19    = N01+18,
  N20    = N01+19,
  N21    = N01+20,
  N22    = N01+21,
  N23    = N01+22,
  N24    = N01+23,
  N28    = N01+24,
  N30    = N01+25,
  N32    = N01+26,
  N36    = N01+27,
  N40    = N01+28,
  N42    = N01+29,
  N44    = N01+30,
  N48    = N01+31,
  N52    = N01+32,
  N54    = N01+33,
  N56    = N01+34,
  N60    = N01+35,
  N64    = N01+36,
  N66    = N01+37,
  N68    = N01+38,
  N72    = N01+39,
  N76    = N01+40,
  N78    = N01+41,
  N80    = N01+42,
  N84    = N01+43,
  N88    = N01+44,
  N90    = N01+45,
  N92    = N01+46,
  N96    = N01+47,
};

//enum Note : u8 {
//  CnM2 = 0,
//  CsM2 = 1,
//  DnM2 = 2,
//  DsM2 = 3,
//  EnM2 = 4,
//  FnM2 = 5,
//  FsM2 = 6,
//  GnM2 = 7,
//  GsM2 = 8,
//  AnM2 = 9,
//  AsM2 = 10,
//  BnM2 = 11,
//  CnM  = 12,
//  CsM  = 13,
//  DnM  = 14,
//  DsM  = 15,
//  EnM  = 16,
//  FnM  = 17,
//  FsM  = 18,
//  GnM  = 19,
//  GsM  = 20,
//  AnM  = 21,
//  AsM  = 22,
//  BnM  = 23,
//  Cn0  = 24,
//  Cs0  = 25,
//  Dn0  = 26,
//  Ds0  = 27,
//  En0  = 28,
//  Fn0  = 29,
//  Fs0  = 30,
//  Gn0  = 31,
//  Gs0  = 32,
//  An0  = 33,
//  As0  = 34,
//  Bn0  = 35,
//  Cn1  = 36,
//  Cs1  = 37,
//  Dn1  = 38,
//  Ds1  = 39,
//  En1  = 40,
//  Fn1  = 41,
//  Fs1  = 42,
//  Gn1  = 43,
//  Gs1  = 44,
//  An1  = 45,
//  As1  = 46,
//  Bn1  = 47,
//  Cn2  = 48,
//  Cs2  = 49,
//  Dn2  = 50,
//  Ds2  = 51,
//  En2  = 52,
//  Fn2  = 53,
//  Fs2  = 54,
//  Gn2  = 55,
//  Gs2  = 56,
//  An2  = 57,
//  As2  = 58,
//  Bn2  = 59,
//  Cn3  = 60,
//  Cs3  = 61,
//  Dn3  = 62,
//  Ds3  = 63,
//  En3  = 64,
//  Fn3  = 65,
//  Fs3  = 66,
//  Gn3  = 67,
//  Gs3  = 68,
//  An3  = 69,
//  As3  = 70,
//  Bn3  = 71,
//  Cn4  = 72,
//  Cs4  = 73,
//  Dn4  = 74,
//  Ds4  = 75,
//  En4  = 76,
//  Fn4  = 77,
//  Fs4  = 78,
//  Gn4  = 79,
//  Gs4  = 80,
//  An4  = 81,
//  As4  = 82,
//  Bn4  = 83,
//  Cn5  = 84,
//  Cs5  = 85,
//  Dn5  = 86,
//  Ds5  = 87,
//  En5  = 88,
//  Fn5  = 89,
//  Fs5  = 90,
//  Gn5  = 91,
//  Gs5  = 92,
//  An5  = 93,
//  As5  = 94,
//  Bn5  = 95,
//  Cn6  = 96,
//  Cs6  = 97,
//  Dn6  = 98,
//  Ds6  = 99,
//  En6  = 100,
//  Fn6  = 101,
//  Fs6  = 102,
//  Gn6  = 103,
//  Gs6  = 104,
//  An6  = 105,
//  As6  = 106,
//  Bn6  = 107,
//  Cn7  = 108,
//  Cs7  = 109,
//  Dn7  = 110,
//  Ds7  = 111,
//  En7  = 112,
//  Fn7  = 113,
//  Fs7  = 114,
//  Gn7  = 115,
//  Gs7  = 116,
//  An7  = 117,
//  As7  = 118,
//  Bn7  = 119,
//  Cn8  = 120,
//  Cs8  = 121,
//  Dn8  = 122,
//  Ds8  = 123,
//  En8  = 124,
//  Fn8  = 125,
//  Fs8  = 126,
//  Gn8  = 127,
//};

static constexpr std::array<i32, 49> LengthTable = {
    0,  1,  2,  3,  4,  5,  6,  7,  8,  9,  10, 11, 12, 13, 14, 15, 16,
    17, 18, 19, 20, 21, 22, 23, 24, 28, 30, 32, 36, 40, 42, 44, 48, 52,
    54, 56, 60, 64, 66, 68, 72, 76, 78, 80, 84, 88, 90, 92, 96
};